require './vm'

def day5_1(inp, input)
  m = VM.new(inp)
  m.run_to_end(input)
end

puts day5_1(File.read('in/05.txt'),[1])

def day5_2(inp,input)
  m = VM.new(inp)
  m.run_to_end(input)
end

day5_2("3,9,8,9,10,9,4,9,99,-1,8",[8]) # should be 1
day5_2("3,9,8,9,10,9,4,9,99,-1,8",[7]) # should be 0
day5_2("3,9,7,9,10,9,4,9,99,-1,8",[7]) # should be 1
day5_2("3,9,7,9,10,9,4,9,99,-1,8",[8]) # should be 0
day5_2("3,3,1108,-1,8,3,4,3,99",[8]) # should be 1
day5_2("3,3,1108,-1,8,3,4,3,99",[7]) # should be 0
day5_2("3,3,1107,-1,8,3,4,3,99",[7]) # should be 1
day5_2("3,3,1107,-1,8,3,4,3,99",[8]) # should be 0

day5_2("3,12,6,12,15,1,13,14,13,4,13,99,-1,0,1,9",[8]) # should be 1
day5_2("3,12,6,12,15,1,13,14,13,4,13,99,-1,0,1,9",[0]) # should be 0
day5_2("3,3,1105,-1,9,1101,0,0,12,4,12,99,1",[8]) # should be 1
day5_2("3,3,1105,-1,9,1101,0,0,12,4,12,99,1",[0]) # should be 0

day5_2("3,21,1008,21,8,20,1005,20,22,107,8,21,20,1006,20,31,1106,0,36,98,0,0,1002,21,125,20,4,20,1105,1,46,104,999,1105,1,46,1101,1000,1,20,4,20,1105,1,46,98,99",[1]) # should be 999
day5_2("3,21,1008,21,8,20,1005,20,22,107,8,21,20,1006,20,31,1106,0,36,98,0,0,1002,21,125,20,4,20,1105,1,46,104,999,1105,1,46,1101,1000,1,20,4,20,1105,1,46,98,99",[8]) # should be 1000
day5_2("3,21,1008,21,8,20,1005,20,22,107,8,21,20,1006,20,31,1106,0,36,98,0,0,1002,21,125,20,4,20,1105,1,46,104,999,1105,1,46,1101,1000,1,20,4,20,1105,1,46,98,99",[1000]) # should be 1001

puts day5_2(File.read('in/05.txt'),[5])
